import pandas as pd
import matplotlib.pyplot as plt

# Данные обрезаны для примера (для ускорения обработки)
data = {
    "timestamp": [
        "01.04.2013", "01.05.2013", "01.06.2013", "01.07.2013", "01.08.2013",
        "01.09.2013", "01.10.2013", "01.11.2013", "01.12.2013", "01.01.2014",

        "01.02.2014", "01.03.2014", "01.04.2014", "01.05.2014", "01.06.2014", "01.07.2014",
        "01.08.2014", "01.09.2014", "01.10.2014", "01.11.2014", "01.12.2014", "01.01.2015",

        "01.02.2015", "01.03.2015", "01.04.2015", "01.05.2015", "01.06.2015", "01.07.2015",
        "01.08.2015", "01.09.2015", "01.10.2015", "01.11.2015", "01.12.2015", "01.01.2016",
        "01.02.2016", "01.03.2016", "01.04.2016", "01.05.2016", "01.06.2016", "01.07.2016",
        "01.08.2016", "01.09.2016", "01.10.2016", "01.11.2016", "01.12.2016", "01.01.2017",
        "01.02.2017", "01.03.2017", "01.04.2017", "01.05.2017", "01.06.2017", "01.07.2017",
        "01.08.2017", "01.09.2017", "01.10.2017", "01.11.2017", "01.12.2017", "01.01.2018",
        "01.02.2018", "01.03.2018", "01.04.2018", "01.05.2018", "01.06.2018", "01.07.2018",
        "01.08.2018", "01.09.2018", "01.10.2018", "01.11.2018", "01.12.2018", "01.01.2019",
        "01.02.2019", "01.03.2019", "01.04.2019", "01.05.2019", "01.06.2019", "01.07.2019",
        "01.08.2019", "01.09.2019", "01.10.2019", "01.11.2019", "01.12.2019", "01.01.2020",
        "01.02.2020", "01.03.2020", "01.04.2020", "01.05.2020", "01.06.2020", "01.07.2020",
        "01.08.2020", "01.09.2020", "01.10.2020", "01.11.2020", "01.12.2020", "01.01.2021",
        "01.02.2021", "01.03.2021", "01.04.2021", "01.05.2021", "01.06.2021", "01.07.2021",
        "01.08.2021", "01.09.2021", "01.10.2021", "01.11.2021", "01.12.2021", "01.01.2022",
        "01.02.2022", "01.03.2022", "01.04.2022", "01.05.2022", "01.06.2022", "01.07.2022",
        "01.08.2022", "01.09.2022", "01.10.2022", "01.11.2022", "01.12.2022", "01.01.2023",
        "01.02.2023", "01.03.2023", "01.04.2023", "01.05.2023", "01.06.2023", "01.07.2023",
        "01.08.2023", "01.09.2023", "01.10.2023", "01.11.2023", "01.12.2023", "01.01.2024",
        "01.02.2024", "01.03.2024", "01.04.2024", "01.05.2024", "01.06.2024", "01.07.2024",
        "01.08.2024", "01.09.2024", "01.10.2024", "01.11.2024", "01.12.2024", "01.01.2025",
        "01.02.2025", "01.03.2025", "01.04.2025"
    ],
    "капитализация Bitcoin": [
    47930822288.69904,
    45047585532.63293,
    35012149667.06732,
    40013085662.766266,
    51830330566.827095,
    52083305938.6148,
    78887050002.08516,
    436914848632.31,
    304589492483.8879,
    336741364759.4144,
    240654752744.31595,
    207341452983.82294,
    199363307101.1413,
    285546495023.69946,
    289658462245.4273,
    260616056142.0765,
    225731909916.16568,
    191114023530.24622,
    180014698662.90396,
    220454646226.65027,
    220538983759.9903,
    174007045553.7577,
    243983959438.873,
    210439546490.47617,
    193944560627.88504,
    168451136861.06625,
    196784867742.69763,
    227398548313.68668,
    206772558147.87656,
    222892976655.50403,
    303466389042.1704,
    359884543804.8,
    429041719632.8477,
    407587338344.53937,
    503099423395.4156,
    479397898865.6303,
    464836876363.1214,
    536480629511.97266,
    703475450944.71,
    628077618447.4246,
    601713511220.3243,
    632520960554.964,
    703008630573.8844,
    755772665719.7849,
    993470884284.8411,
    959328743483.0996,
    1148083697319.4658,
    1016789221529.7227,
    1235781012101.2573,
    2129527700741.0952,
    2303711499188.2407,
    2792149117818.2324,
    4646728644649.721,
    4176776903494.863,
    6196018755341.79,
    9955250202882.535,
    13882821987886.646,
    9922830377382.23,
    9869541657053.752,
    6660394440811.862,
    8977356122443.037,
    8052964696089.9795,
    6833286603176.779,
    8393697823720.908,
    7573557633366.595,
    7732808721432.698,
    7195649906928.636,
    4593042235338.653,
    4380940872170.495,
    4190875136917.661,
    4427783898961.184,
    4764314906935.087,
    6205641337556.071,
    9821502445485.264,
    12600259724163.627,
    11340978318867.533,
    10969087546406.004,
    9940934191183.883,
    10753316098326.277,
    8774307847446.602,
    8396918276820.348,
    10554677090755.244,
    10037420837657.252,
    7862134768557.454,
    12479164455298.025,
    12938202021193.535,
    11845088092783.773,
    14870337874826.996,
    14850510903959.818,
    14736862832826.62,
    19842563148979.984,
    28909642083991.016,
    41205015091850.66,
    45584337937806.12,
    63814478512096.945,
    81979496844836.08,
    81741698974845.9,
    52627972291547.36,
    48234913345586.52,
    57114428834716.86,
    64874001326578.17,
    60450855756700.6,
    84134460876929.89,
    76338997904922.61,
    64919369480895.03,
    54528584179631.66,
    63375833653583.57,
    90853576735666.5,
    58663542392769.55,
    43223733215987.59,
    23689770025918.273,
    24471014664226.37,
    23885955402704.55,
    22391437340592.938,
    23683466130304.895,
    20402101720078.484,
    19437459572221.98,
    32898568540663.65,
    31540683760472.53,
    41320310115380.586,
    43930984492160.43,
    42459348782373.85,
    48109949443204.67,
    50485648694596.195,
    46279362995972.984,
    50420483220695.87,
    66350666870297.34,
    68834445093065.484,
    74510459973279.39,
    74543717577072.02,
    108094324509533.53,
    128020825335984.4,
    110507976757975.77,
    124273181208850.66,
    111749075696378.86,
    109067233663671.8,
    100148544586139.42,
    113299526550796.19,
    129140592802001.22,
    185833730430915.56,
    196975223618275.84,
    230840014404981.5,
    164927358658499.84,
    146359084889890.16,
    155294201705451.2
    ],

    "капитализация Ethereum":  [
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    3497652859.9060717,
    4452772001.52556,
    4197731543.68,
    4697886908.333363,
    12899982806.990467,
    36937928602.4662,
    67078005110.25659,
    46951342686.23423,
    73377071381.8555,
    67541081044.78674,
    62424890948.462006,
    64348548367.6974,
    72922591405.10396,
    59134625730.52139,
    46994935774.292465,
    44695202496.08525,
    58123207058.16151,
    84907267762.65784,
    263787843596.61542,
    405270686102.91125,
    1209184883646.202,
    1549833503270.4714,
    1125536462330.052,
    2159364089933.673,
    1659343994891.9124,
    1678902602393.0032,
    2500042374624.6865,
    4277703803170.479,
    6275940368564.675,
    4704749883780.86,
    2201229364494.1016,
    3794188867754.8867,
    3629298483976.462,
    2847781891799.338,
    2752455684065.361,
    1795917728538.8203,
    1607023063937.5571,
    1333401403700.3984,
    769799062990.5858,
    931211066322.2559,
    775468539371.7609,
    939455746912.9364,
    983004567716.7744,
    1126997976426.2012,
    1841014228429.9836,
    2031072488332.4592,
    1475665887106.4607,
    1179768473896.7917,
    1295500000546.8916,
    1293040758027.2666,
    1063793047027.4529,
    910187780969.9878,
    1224128536986.0972,
    1545822371678.9116,
    983608806751.9187,
    1805233666538.9387,
    1909199949345.213,
    1776944271574.3079,
    2754831355934.937,
    3366903999551.0894,
    2998677464401.044,
    3401485891082.421,
    5546016489397.528,
    6432938199181.78,
    11132153527772.422,
    12335505092247.807,
    16481488667560.059,
    24289467762820.523,
    23733150125869.38,
    19459941023538.293,
    21673448548050.02,
    29472095899173.816,
    25908464715860.54,
    36859830254276.805,
    38931064071880.56,
    32471418850725.418,
    24005103624051.4,
    27042036371487.3,
    41418075086749.55,
    26915832954325.438,
    16768827824959.064,
    8127776249015.55,
    11236847474421.81,
    11817764241615.508,
    9788737259822.865,
    11586040934171.56,
    9802873619882.615,
    8937326856801.719,
    14318596985465.023,
    13871337838016.691,
    16471051667384.291,
    17518951736642.79,
    18130332350624.727,
    18894793711068.805,
    19814488202395.85,
    18131272937669.08,
    19265194782515.723,
    21409534563200.543,
    23033119949221.066,
    24679953883048.05,
    24483068958157.105,
    36108085640423.74,
    39963100000000,
    34027371146916.035,
    42208823092881.57,
    37304615293538.125,
    33229800260096.734,
    26004361808963.773,
    28366517602180.586,
    28172489347061.516,
    43465488394066.69,
    42740871819143.6,
    45222049766985.55,
    26599074585470.55,
    19657136251783.36,
    17978421618519.652
    ],


    "капитализация USDT": [ 
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    15480947.999970293,
    14644378.000033762,
    23237077.999976207,
    23570991.040059723,
    24973480.000061683,
    27875461.5999812,
    29061588.99992914,
    29500769.99993746,
    28902400,
    63091080.0001123,
    105893388.42296168,
    109304762.70057622,
    108579006.80015635,
    130624864.60743721,
    126249397.58547898,
    395595707.01943403,
    442713070.7494158,
    458793188.29430324,
    453619811.0094438,
    437049922.1203768,
    439888255.57297987,
    638159038.6963828,
    1528604722.8739374,
    1499447403.5806494,
    3208476049.527425,
    3319802857.307484,
    6192699791.291123,
    12228785456.178291,
    18842522351.309025,
    19148154559.433548,
    25262285595.48937,
    26015167964.326496,
    44834454960.43292,
    80962392314.10953,
    126591475225.67163,
    124445584152.72229,
    128971153801.60538,
    137920247279.40823,
    157538113198.0386,
    168546160939.76132,
    154510501420.78867,
    171744823729.5487,
    189421651389.83115,
    115214908277.74744,
    120977636313.76213,
    126348926265.60585,
    140769068920.28854,
    133531087168.60553,
    133696142357.63733,
    187164655282.9549,
    202918412623.43896,
    233965838541.0481,
    254599286220.8343,
    255853631451.6914,
    275183891990.3841,
    268139380000.0441,
    263880763536.07846,
    264353033755.29047,
    288223100716.91986,
    298886818578.72107,
    412730072905.9448,
    502045760101.46844,
    652926360395.1443,
    646536280337.9524,
    711830038282.8041,
    918906886225.8287,
    1146306344942.0232,
    1294308843495.5068,
    1518751257191.6611,
    1600608753524.9207,
    1956024065625.7065,
    2659071075882.905,
    3034982331163.7783,
    3860863659473.6333,
    4654232326431.846,
    4587302884147.996,
    4517505316882.441,
    4793131442111.665,
    5019969484368.417,
    5113354189210.275,
    5198992885890.474,
    5806957815237.222,
    5845586620784.451,
    6156794430770.171,
    8606354186209.335,
    6798799003612.754,
    5172456643381.986,
    4162626566821.3467,
    3633805225979.1885,
    4205042453542.6245,
    4086067431322.0522,
    4178859530975.3477,
    4041109768283.4873,
    4042424646776.507,
    5001669919635.612,
    5007374871724.322,
    5979906554761.705,
    6337281132210.433,
    6694410608740.179,
    6779158962058.3955,
    7444664070297.621,
    7593408165639.332,
    7982887556681.572,
    8299601120164.31,
    8333710858778.42,
    8251561551437.602,
    8572891916924.878,
    8880226895142.385,
    9535487155148.113,
    10235399727998.139,
    10454537193434.098,
    10192749739498.01,
    9786668579682.35,
    10166441062882.201,
    10828468446310.932,
    11198233916530.059,
    13055367883587.096,
    14642216977067.383,
    15851295617968.354,
    14010448734625.713,
    12856651089211.078,
    12321888859811.668
    ], 
}

# Создание DataFrame
df = pd.DataFrame(data)
df["timestamp"] = pd.to_datetime(df["timestamp"], format="%d.%m.%Y")

# Перевод капитализации в миллиарды для удобства отображения
df["капитализация Bitcoin"] = df["капитализация Bitcoin"] / 1e9
df["капитализация Ethereum"] = df["капитализация Ethereum"] / 1e9
df["капитализация USDT"] = df["капитализация USDT"] / 1e9

# Построение графика
plt.figure(figsize=(12, 6))
plt.plot(df["timestamp"], df["капитализация Bitcoin"], label="Bitcoin")
plt.plot(df["timestamp"], df["капитализация Ethereum"], label="Ethereum")
plt.plot(df["timestamp"], df["капитализация USDT"], label="USDT")

plt.title("Капитализация криптовалют (в млрд $)")
plt.xlabel("Дата")
plt.ylabel("Капитализация (млрд $)")
plt.legend()
plt.grid(True)
plt.tight_layout()

plt.savefig("capitalisation_plot.png")

